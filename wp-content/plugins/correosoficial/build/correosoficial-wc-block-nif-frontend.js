(()=>{"use strict";const e=window.wc.blocksCheckout,o=window.React,t=window.wp.components,i=window.wp.i18n,a=window.wp.data,r=window.lodash,c=JSON.parse('{"apiVersion":2,"name":"correosoficial/correosoficial-wc-nif","version":"2.0.0","title":"Correos Oficial Nif","category":"woocommerce","description":"Bloque para mostrar campo Nif.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-shipping-address-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}},"text":{"type":"string","source":"html","selector":".wp-block-correosoficial-wc-nif","default":""}},"textdomain":"correosoficial","editorStyle":"file:../../../build/style-correosoficial-wc-block.css","style":"file:../../../build/style-index.css"}');(0,e.registerCheckoutBlock)({metadata:c,component:({cart:e,checkoutExtensionData:c,extensions:s,attributes:l})=>{if(!s.correosoficial)return!1;const{config:n}=s.correosoficial,{setExtensionData:d}=c,[u,f]=((0,o.useCallback)((0,r.debounce)(((e,o,t)=>{d(e,o,t)}),1e3),[d]),(0,o.useState)(!1)),[m,w]=(0,o.useState)(!1),[p,b]=(0,o.useState)(),k="correosoficial-wc-validation-error-nif",{setValidationErrors:g,clearValidationError:h}=(0,a.useDispatch)("wc/store/validation"),v=(0,a.useSelect)((e=>e("wc/store/validation").getValidationError(k)));(0,o.useEffect)((()=>{"on"===n.nif?f(!0):f(!1),"OBLIGATORY"===n.nif_required?w(!0):w(!1)}),[e]),(0,o.useEffect)((()=>{if(d("correosoficial","nifCode",p),u&&m){if(p)return void(v&&h(k));p||g({[k]:{message:(0,i.__)("You must entered a valid NIF","correosoficial"),hidden:!0}})}}),[d,g,k,v,p,h,m,u]);const E=(0,o.useCallback)((e=>{b(e)}),[]);return(0,o.createElement)(o.Fragment,null,u&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(t.TextControl,{value:p,onChange:E,id:"nif_code",className:"wc-block-components-text-input wc-block-components-address-form__address_2",label:"NIF"}),!v?.hidden&&(0,o.createElement)("div",{className:"wc-block-components-validation-error"},v?.message)))}})})();